---
import Clock from '../icons/Clock.astro'
import { type Song } from '../lib/data'
import SongPlayButton from './SongPlayButton.jsx'

interface Props {
  songs: Song[]
}

const { songs } = Astro.props
---

<table class="table-auto text-left min-w-full divide-y divide-gray-500/50">
  <thead class="border-b-[1px] border-zinc-600/50">
    <tr class="text-gray-300/70 text-sm">
      <th class="px-4 py-2 font-medium">#</th>
      <th class="px-4 py-2 font-medium">Tílulo</th>
      <th class="px-4 py-2 font-medium">Álbum</th>
      <th class="px-4 py-2 font-medium"><Clock class="size-4" /></th>
    </tr>
  </thead>
  <tbody>
    <tr class="h-[13px]"></tr>
    {
      songs.map((song, index) => {
        return (
          <tr class="group font-light text-sm text-zinc-400 hover:bg-white/10">
            <td class="group-hover:hidden px-4 py-2 rounded-l-md font-bold w-5">
              {index + 1}
            </td>
            <td class="hidden group-hover:[display:revert] rounded-l-md font-bold w-5 justify-center">
              <SongPlayButton
                idAlbum={song.albumId}
                idSong={song.id}
                client:visible
              />
            </td>
            <td class="px-4 py-2 flex gap-2">
              <picture class="size-10">
                <img src={song.image} alt={song.title} class="rounded-md" />
              </picture>
              <div class="flex flex-col">
                <h4 class="text-zinc-100 text-base font-normal">
                  {song.title}
                </h4>
                <span class="text-zinc-400 text-sm font-semibold">
                  {song.artists.join(', ')}
                </span>
              </div>
            </td>
            <td class="px-4 py-2 font-semibold">{song.album}</td>
            <td class="px-4 py-2 font-semibold rounded-r-md">
              {song.duration}
            </td>
          </tr>
        )
      })
    }
  </tbody>
</table>
